/*! For license information please see frontend.js.LICENSE.txt */
(()=>{function t(){var n,r,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.toStringTag||"@@toStringTag";function i(t,a,o,c){var i=a&&a.prototype instanceof l?a:l,d=Object.create(i.prototype);return e(d,"_invoke",function(t,e,a){var o,c,i,l=0,d=a||[],f=!1,u={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(t,e){return o=t,c=0,i=n,u.n=e,s}};function p(t,e){for(c=t,i=e,r=0;!f&&l&&!a&&r<d.length;r++){var a,o=d[r],p=u.p,x=o[2];t>3?(a=x===e)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=n):o[0]<=p&&((a=t<2&&p<o[1])?(c=0,u.v=e,u.n=o[1]):p<x&&(a=t<3||o[0]>e||e>x)&&(o[4]=t,o[5]=e,u.n=x,c=0))}if(a||t>1)return s;throw f=!0,e}return function(a,d,x){if(l>1)throw TypeError("Generator is already running");for(f&&1===d&&p(d,x),c=d,i=x;(r=c<2?n:i)||!f;){o||(c?c<3?(c>1&&(u.n=-1),p(c,i)):u.n=i:u.v=i);try{if(l=2,o){if(c||(a="next"),r=o[a]){if(!(r=r.call(o,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,c<2&&(c=0)}else 1===c&&(r=o.return)&&r.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=n}else if((r=(f=u.n<0)?i:t.call(e,u))!==s)break}catch(t){o=n,c=1,i=t}finally{l=1}}return{value:r,done:f}}}(t,o,c),!0),d}var s={};function l(){}function d(){}function f(){}r=Object.getPrototypeOf;var u=[][o]?r(r([][o]())):(e(r={},o,function(){return this}),r),p=f.prototype=l.prototype=Object.create(u);function x(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,e(t,c,"GeneratorFunction")),t.prototype=Object.create(p),t}return d.prototype=f,e(p,"constructor",f),e(f,"constructor",d),d.displayName="GeneratorFunction",e(f,c,"GeneratorFunction"),e(p),e(p,c,"Generator"),e(p,o,function(){return this}),e(p,"toString",function(){return"[object Generator]"}),(t=function(){return{w:i,m:x}})()}function e(t,n,r,a){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}e=function(t,n,r,a){function c(n,r){e(t,n,function(t){return this._invoke(n,r,t)})}n?o?o(t,n,{value:r,enumerable:!a,configurable:!a,writable:!a}):t[n]=r:(c("next",0),c("throw",1),c("return",2))},e(t,n,r,a)}function n(t,e,n,r,a,o,c){try{var i=t[o](c),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(r,a)}function r(t){return function(){var e=this,r=arguments;return new Promise(function(a,o){var c=t.apply(e,r);function i(t){n(c,a,o,i,s,"next",t)}function s(t){n(c,a,o,i,s,"throw",t)}i(void 0)})}}document.addEventListener("DOMContentLoaded",r(t().m(function e(){var n,r,a,o,c,i,s;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n=document.getElementById("cgsd-container")){t.n=1;break}return t.a(2);case 1:return n.innerHTML='\n    <div class="cgsd-loading">\n      <div class="text-gray-500 py-6 flex flex-col items-center">\n        <div style="width:36px;height:36px;border:3px solid #ddd;border-top-color:#0B284D;border-radius:50%;animation:spin 1s linear infinite"></div>\n        <div style="margin-top:8px">Loading data...</div>\n      </div>\n    </div>\n  ',t.p=2,t.n=3,fetch("".concat(cgsd_vars.ajax_url,"?action=cgsd_get_db_data"),{cache:"no-cache"});case 3:return r=t.v,t.n=4,r.json();case 4:if((a=t.v).success){t.n=5;break}throw new Error(a.data||"bad response");case 5:if((o=a.data||[]).length){t.n=6;break}return n.innerHTML='<p class="text-gray-600">No data in database. (กด Fetch Data ในแอดมินก่อน)</p>',t.a(2);case 6:c='<div class="cgsd-tailwind">',c+='<h2 class="text-2xl font-bold text-[#0B284D] border-b border-gray-300 pb-1 mb-3">\n      รายชื่อ DIGITAL MARKETING AGENCY ในไทย\n    </h2>',i=null,o.forEach(function(t){var e=(t.agency_name||"").trim(),n=(t.website||"").trim(),r=(t.facebook||"").trim(),a=(t.phone||"").trim(),o=(t.logo||"").trim(),s=(t.meta_desc||"").trim(),l=(t.first_letter||"0-9").toUpperCase();l!==i&&(i=l,c+='<h3 class="text-xl font-bold mt-6 mb-2 text-[#0B284D] border-b border-gray-200 pb-1">รายชื่อ Agency ประเภทหมวด  '.concat(l,"</h3>"));var d=e?e[0].toUpperCase():"?";c+='\n        <article class="relative flex items-stretch rounded-2xl ring-1 ring-gray-200 bg-white overflow-hidden mb-4 shadow-sm hover:shadow-md transition-all">\n          <div class="flex w-1/3 md:w-[15%] min-w-[110px] bg-gradient-to-br from-[#0B284D] to-[#0B284D] items-center justify-center">\n            '.concat(o?'<img src="'.concat(o,'" loading="lazy" alt="').concat(e,' logo" class="w-full h-full object-contain" />'):'<div class="w-full h-full text-white font-semibold flex items-center justify-center text-xl">'.concat(d,"</div>"),'\n          </div>\n          <div class="hidden sm:block w-px bg-gray-200"></div>\n          <div class="flex-1 px-3 py-[10px] text-left">\n            <p class="text-[14px] font-bold font-sarabun mb-[5px] text-[#0B284D]">').concat(e,"</p>\n            ").concat(s?'<p class="text-[14px] leading-4 text-gray-900 h-[35px] overflow-hidden mb-0">'.concat(s,"</p>"):"",'\n            <div class="mt-2 flex flex-wrap items-center gap-x-3 text-sm">\n              ').concat(n?'<div class="flex items-center gap-2">\n                             <i class="fa-solid fa-globe text-[#0B284D] text-[14px]"></i>\n                             <a href="'.concat(n.startsWith("http")?n:"https://"+n,'" target="_blank" class="underline text-[#0B284D] text-[12px]">').concat(n,"</a>\n                           </div>"):"","\n              ").concat(r?'<div class="flex items-center gap-2">\n                              <i class="fa-brands fa-facebook-f text-[#0B284D] text-[14px]"></i>\n                              <a href="'.concat(r.startsWith("http")?r:"https://"+r,'" target="_blank" class="underline text-[#0B284D] text-[12px]">').concat(e,"</a>\n                            </div>"):"","\n              ").concat(a?'<div class="flex items-center gap-2">\n                           <i class="fa-solid fa-mobile-screen text-[#173A63] text-[14px]"></i>\n                           <a href="tel:'.concat(a.replace(/\D+/g,""),'" class="text-[#0B284D] text-[12px]">').concat(a,"</a>\n                         </div>"):"","\n            </div>\n          </div>\n        </article>")}),c+="</div>",n.innerHTML=c,t.n=8;break;case 7:t.p=7,s=t.v,n.innerHTML='<p class="text-red-600">Error: '.concat(s.message,"</p>"),console.error("[CGSD] frontend error:",s);case 8:return t.a(2)}},e,null,[[2,7]])})))})();